<div class="container-fluid d-flex  body">

    <div class="col-lg-8 bg-white" style="min-height: 650px;">


        <!-----------   categories Row ------------------->

        <div class="d-flex border-bottom">



            <mat-form-field class="w-25 m-1" appearance="outline"
                style="min-height: 55px; min-width: 150px;border-radius: 10px ;">
                <mat-label>Search.....</mat-label>
                <input #catSearch matInput type="search" class="text-secondary">
                <mat-icon matPrefix class="text-secondary">search</mat-icon>
            </mat-form-field>



            <div class="scrollContainer">

                <button *ngFor="let item of categoriesList|filter:catSearch.value"
                    (click)="onCatSelected(item);catSearch.value = ''"
                    [ngClass]="item.recipeCatID == categoryID  ? 'bg-blue' : ''"
                    class="border item text-center m-1 p-1">{{item.recipeCatTitle}}</button>
            </div>
        </div>


        <!-----------   Products Area ------------------->
        <div class="row cursorPointer">
            <div *ngFor="let item of RecipeList" style="width: 150px;">
                <mat-card style="width:120px; height: 140px;" class="m-1 shadow recipecard" data-bs-toggle="modal"
                data-bs-target="#qtyModal" (click)="tempProdRow = item;this.global.focusTo('.prodQty')">

                    <div class="text-center">
                        <img *ngIf="item.recipeImage" [src]="item.recipeImage" alt="" height="100px" width="100px">
                    </div>

                    <mat-card-footer class="text-center"
                        style="font-size: x-small;"><strong>{{item.recipeTitle}}</strong></mat-card-footer>
                    <mat-card-footer class="text-center text-success">{{item.recipeSalePrice}}</mat-card-footer>
                </mat-card>
            </div>
        </div>




    </div>


    <div class="col-lg-4 bg-gray  border-0 border-start" style="left: 66.6%; height: 100vh;position:fixed;overflow: scroll;">

        <!-----------   Table Side First Row ------------------->

        <div class=" d-flex ">
            <span class="col-lg-2 p-2  border">
                <p class="text-center p-2 "
                    style="height: 40px;width: 40px;background-color: rgb(219, 249, 223);color: #088203; border-radius: 100%;">
                    {{tableTitle}}</p>

            </span>
            <!-- <span class="col-lg-4 p-1  border">

                <select class="w-100 h-100 border-0 bg-gray">
                    <option *ngFor="let item of tableList" [value]="item.id">{{item.name}}</option>
                </select>

            </span> -->
            <span class="col-lg-10 p-1 border">

                <select class="w-100 h-100 border-0 bg-gray" disabled="true" [(ngModel)]="orderType">
                    <option *ngFor="let item of orderTypeList" [value]="item.val">{{item.title}}</option>
                </select>

            </span>
        </div>

        <div style="min-height: 400px;" class="p-2">

            <!-----------   Bill Area ------------------->
            <div class="billTable" style="height: 50vh;">

                <table class="table-logix cursorPointer">
                    <thead>
                        <tr>
                            <th>S#</th>
                            <th class="col-lg-4">Title</th>
                            <th class="col-lg-2">Price</th>
                            <th class="col-lg-2">Qty</th>
                            <th class="col-lg-2">Total</th>
                            <th>Del</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of tableData index as index">
                            <td class="text-center">{{index +1}}</td>
                            <td>{{item.recipeTitle}}</td>
                            <td class="text-center">{{item.recipeSalePrice |number:'1.0-1'}}</td>
                            <!-- <td class="text-center">
                                <div class="d-flex text-center justify-content-center pb-2">
                                    <mat-icon (click)="changeQty('add',index)"
                                        class="text-success">add_circle</mat-icon>
                                    <input id="pQty" type="text" class="qty{{index}}" style="width: 50px;text-align: center;" 
                                        (keydown)="getTotal();this.global.handleNumKeys($event);handleFocus(item,$event,'.qty')" (keyup)="getTotal();handleFocus(item,$event,'.qty')" [(ngModel)]="item.quantity">
                                    <mat-icon (click)="changeQty('minus',index)">remove_circle</mat-icon>
                                </div>
                            </td> -->

                            <td class="text-center">{{item.quantity}}</td>
                            <td class="text-center">{{item.recipeSalePrice * item.quantity |number:'1.0-1'}}</td>
                            <td class="text-center"><mat-icon class="text-danger"
                                    (click)="deleteRow(item)">delete</mat-icon></td>
                        </tr>
                    </tbody>
                </table>

            </div>



            <!-----------   Bill Total Amount Section ------------------->
            <div class="p-4 bg-white border-top">

                <span class="d-flex border-bottom border-dark justify-content-between">
                    <p>Sub Total</p>
                    <p>{{subTotal |number}}</p>
                </span>
                <span class="p-1 d-flex">
                    <button mat-raised-button class="m-1 text-white bg-secondary w-50">HOLD</button>
                    <button mat-raised-button class="m-1 text-white bg-success w-50" data-bs-toggle="modal"
                        data-bs-target="#paymentMehtod">Save</button>
               
                    
                </span>

                <span class="p-1 d-flex">
                    <button mat-raised-button class="m-1 text-white bg-primary w-50" data-bs-toggle="modal"
                        data-bs-target="#retrieveBill">Retrive</button>
                    <button mat-raised-button class="m-1 text-white bg-warning w-50" accesskey="n" matTooltip="New bill (Alt + n)"data-bs-toggle="modal"
                    data-bs-target="#NewBill">New Bill</button>
                    
                </span>


            </div>







        </div>


    </div>


     <!----------------Modal Window for Quantity ---------->



     <div class="modal fade" id="qtyModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
     aria-labelledby="qtyModalLabel">
     <div class="modal-dialog modal-dialog-centered modal-sm">
         <div class="modal-content " style="background-color: rgb(248, 247, 247);">
             <div class="modal-body">
         <div>
            <form method="post">

               <div>
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Quantity</mat-label>
                    <input class="prodQty" (keydown)="this.global.handleNumKeys($event)"  type="number" min="0"  matInput #prodQty />
                </mat-form-field>
               </div>

                <div class="text-center d-flex justify-content-between">
                    <button class="btn btn-success" data-bs-dismiss="modal" (click)="productSelected(tempProdRow,prodQty.value);prodQty.value =''" >Save</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </form>
         </div>
             </div>
         </div>
     </div>
 </div>

 <!---------------------------------------------------------->



    <!----------------Modal Window for Payment Mehtod ---------->



    <div class="modal fade" id="paymentMehtod" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
        aria-labelledby="paymentMehtodLabel">
        <div class="modal-dialog modal-dialog-centered ">
            <div class="modal-content " style="background-color: rgb(248, 247, 247);">
                <div class="modal-header">
                    <h2 class="modal-title" id="paymentMehtodLabel">Payment Method</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Payment Type</mat-label>
                        <mat-select [(ngModel)]="paymentType">
                            <mat-option value="c">Cash</mat-option>
                            <mat-option value="Bredit">Bank</mat-option>
                            <mat-option value="Split">Split</mat-option>
                            <mat-option value="Complimentary">Complimentary</mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-card class=" p-2 bg-warning" *ngIf="paymentType !== ''">

                        <div class="d-flex justify-content-between mb-2"
                            *ngIf="paymentType == 'cash' || paymentType == 'split'">
                            <mat-label style="font-size: 20px;">Cash:</mat-label>
                            <input type="text" [(ngModel)]="cash" />
                        </div>

                        <div class="d-flex justify-content-between  "
                            *ngIf="paymentType == 'credit' || paymentType == 'split'">
                            <mat-label style="font-size: 20px;">Credit Card:</mat-label>
                            <input type="text"  [(ngModel)]="creditCard" />
                        </div>

                    </mat-card>
           

                </div>

                <div class="modal-footer">
                    <button class="btn btn-success" data-bs-dismiss="modal">Save</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>


            </div>
        </div>
    </div>

    <!---------------------------------------------------------->


        <!----------------Modal Window for Selecteing New Bill---------->



    <div class="modal fade" id="NewBill" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
        aria-labelledby="NewBillLabel">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content " style="background-color: rgb(248, 247, 247);">
                <div class="modal-body">


               <div class="d-flex">
                <div class="col-lg-10">
                    <table>
                        <tbody class="">
                            <tr  style="display: inline-flex; " class="cursorPointer " *ngFor="let item of tableList ">
                                <mat-card class="btblbtn justify-content-center" (click)="tempTableID = item.tableID">
                                    <span>{{item.tableTitle}}</span>
                                </mat-card>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-lg-2 border-start">

                    <mat-radio-group aria-label="Select an option" [(ngModel)]="tempOrderType">
                        <mat-radio-button  *ngFor="let item of orderTypeList" [value]="item.val">{{item.title}}</mat-radio-button>
                      </mat-radio-group>

                </div>
               </div>


                </div>

                <div class="modal-footer">
                    <button class="btn btn-success" data-bs-dismiss="modal" (click)="selectT()">Save</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>


            </div>
        </div>
    </div>

    <!---------------------------------------------------------->

    
        <!----------------Modal Window for Retrieving Saved Bills ---------->



        <div class="modal fade" id="retrieveBill" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
        aria-labelledby="retrieveBillLabel">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content " style="background-color: rgb(248, 247, 247);">
                <div class="modal-body">


                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <!---------------------------------------------------------->





</div>